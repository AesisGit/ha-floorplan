title: Ring
config:
  image: /local/floorplan/examples/ring/ring.svg
  stylesheet: /local/floorplan/examples/ring/ring.css

  defaults:
    on_hover: floorplan.hover_info
    on_click: homeassistant.more_info

  rules:
    - entity: sensor.ring_salon_battery
      on_state:
        service: floorplan.text_set
        data: '${entity.state ? entity.state + "%" : "unknown"}'

    - entities:
        - binary_sensor.ring_salon_motion
      on_state:
        service: floorplan.class_set
        data:
          class: '${(entity.state === "on") ? "ring-motion" : ""}'

    - entity: binary_sensor.ring_salon_ding
      on_state:
        service: floorplan.class_set
#        data: '${(entity.state === "on") ? "ring-ding" : ""}'
        data:
          class: '>
            if (entity.state === "on") {
              return "ring-ding";
            }
            else {
              return "";
            }
            '
            
