sidebar_title: Simple Floorplan
config:
  show_side_bar: false;
  show_app_header: false;
  config:
    image: /local/floorplan/examples/simple/simple.svg
    stylesheet: /local/floorplan/examples/simple/simple.css
    log_level: info
    console_log_level: info

    defaults:
      on_hover: floorplan.hover_info
      on_click: homeassistant.more_info

    rules:
      - entity: light.garage
        element: light.garage
        image: /local/floorplan/examples/simple/light_${entity.state}.svg
        on_click: homeassistant.toggle

      - entity: light.garage
        element: light.garage.background
        class: background-${entity.state}
        on_click:
          service: homeassistant.toggle

      - entity: light.garage
        element: light.garage.text
        text: '${entity.state}'
        on_click:
          service: homeassistant.toggle

      - entity: switch.living_area_fan
        on_click: false
        propagate: false
        states:
          - state: 'on'
            class:
              - spinning
              - some_other_class

      - entity: switch.living_area_fan
        element: switch.living_area_fan.background
        class: 'background-${entity.state}'
        on_click: false
        on_long_click:
          service: homeassistant.toggle
          data:
            entity_id: switch.living_area_fan

      - entity: switch.living_area_fan
        element: switch.living_area_fan.text
        text: '${entity.state}'
        on_click:
          service: homeassistant.toggle

      - entity: camera.zagreb_ban_jelacic_square
        image: '${entity.attributes.entity_picture}'
        image_refresh_interval: 10

      - entities:
          - binary_sensor.main_bedroom
          - binary_sensor.living_area
          - binary_sensor.garage
        on_hover: false
        on_state:
#          service: floorplan.set_class
#          data:
#            class: binary-sensor-${entity.state}
          service: floorplan.set_style
          data:
            style: '
              fill: ${ entity.state === "on" ? "#F9D27C" : "#7CB1F9" };
              transition: fill 5s ease;
            '

